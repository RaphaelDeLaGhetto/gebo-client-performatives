/*! gebo-client-performatives - v0.0.7 - 2013-11-29
* Copyright (c) 2013 ; Licensed  */
angular.module("gebo-client-performatives",["gebo-client-performatives.conversationControl","gebo-client-performatives.request"]),function(){"use strict";angular.module("gebo-client-performatives.conversationControl",["gebo-client-performatives.request","templates/server-reply-request.html","templates/client-reply-request.html","templates/server-propose-discharge-perform.html","templates/client-propose-discharge-perform.html","templates/server-reply-propose-discharge-perform.html","templates/client-reply-propose-discharge-perform.html","templates/server-perform.html"]).directive("conversationControl",function(a,b){function c(c,d,e){if(e.$observe("sc",function(a){c.sc=a}),e.$observe("email",function(a){c.email=a}),c.sc&&c.email){var f=b.getDirectiveName(c.sc,c.email);d.html(a.get("templates/"+f+".html"))}}return{restrict:"E",link:c}})}(),angular.module("templates/client-propose-discharge-perform.html",[]).run(["$templateCache",function(a){a.put("templates/client-propose-discharge-perform.html","")}]),angular.module("templates/client-reply-propose-discharge-perform.html",[]).run(["$templateCache",function(a){a.put("templates/client-reply-propose-discharge-perform.html","")}]),angular.module("templates/client-reply-request.html",[]).run(["$templateCache",function(a){a.put("templates/client-reply-request.html","")}]),angular.module("templates/server-perform.html",[]).run(["$templateCache",function(a){a.put("templates/server-perform.html","")}]),angular.module("templates/server-propose-discharge-perform.html",[]).run(["$templateCache",function(a){a.put("templates/server-propose-discharge-perform.html","")}]),angular.module("templates/server-reply-propose-discharge-perform.html",[]).run(["$templateCache",function(a){a.put("templates/server-reply-propose-discharge-perform.html","")}]),angular.module("templates/server-reply-request.html",[]).run(["$templateCache",function(a){a.put("templates/server-reply-request.html",'<button class="btn btn-small" ng-click="agree(sc._id, $event)">\n    <span class="glyphicon glyphicon-question-sign"></span></button>\n<button class="btn btn-small" ng-click="refuse(sc._id, $event)">\n    <span class="glyphicon glyphicon-thumbs-down"></span></button>\n<button class="btn btn-small" ng-click="agree(sc._id, $event)">\n    <span class="glyphicon glyphicon-thumbs-up"></span></button>\'\n')}]),function(){"use strict";angular.module("gebo-client-performatives.request",["ngRoute","ngResource"]).factory("Request",function(){function a(a,b,c,d){return{sender:a,receiver:b,performative:"request",action:c,gebo:d}}function b(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"cancel request",action:a.action}}function c(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"not-understood "+a.performative.split(" ").pop(),action:a.action}}function d(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"refuse "+a.performative.split(" ").pop(),action:a.action}}function e(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"timeout "+a.performative.split(" ").pop(),action:a.action}}function f(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"agree "+a.performative.split(" ").pop(),action:a.action}}function g(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"failure "+a.performative.split(" ").pop(),action:a.action}}function h(a,b){return{sender:b,receiver:a.debtor===b?a.creditor:a.debtor,performative:"propose "+a.performative.split(" ").pop(),action:a.action}}function i(a,b){var c="server";switch(a.performative){case"reply request":c=a.debtor===b?"server":"client";break;case"propose discharge|perform":c=a.debtor===b?"server":"client";break;case"reply propose|discharge|perform":c=a.debtor===b?"client":"server"}return c+"-"+a.performative.replace(" ","-").replace(/\|/g,"-")}return{agree:f,cancel:b,failure:g,getDirectiveName:i,notUnderstood:c,proposeDischarge:h,refuse:d,request:a,timeout:e}})}();